<!-- Purpose: invite public template -->
<!DOCTYPE html>
<html>
<head>
  <title>Invite Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.2/dist/flatly/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/css/intlTelInput.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.css">
</head>
<body class="vms-body">
<!-- ===== Section: Invite Form ===== -->
<div class="container mt-4">
  {% set company_logo = cfg.branding.company_logo_url or cfg.logo_url %}
  <div class="logo-wrapper mb-3 text-center">
    {% if company_logo %}
    <img src="{{ company_logo }}" alt="{{ cfg.branding.company_name }} logo" class="img-fluid" style="max-height:80px;">
    {% else %}
    <img src="/static/logo1.png" alt="Company logo" class="img-fluid" style="max-height:80px;">
    {% endif %}
  </div>
  <h2 class="mb-2 text-center">Welcome</h2>
  <p class="lead text-center">Fill in visitor details, choose or upload a photo, then submit.</p>
  <h1 class="mb-4">Visitor Invite Form</h1>
  <form id="pubForm" class="row g-3">
    <input type="hidden" name="id" value="{{ invite_id }}">
    <div class="col-12"><h3>Visitor Info</h3></div>
    {% include 'partials/invite_fields.html' %}
    <div class="col-12"><h3 class="mt-3">Visit Details</h3></div>
    <div class="col-12 col-md-4">
      <label for="visit_time" class="form-label">Visit Date &amp; Time <span class="text-danger">*</span></label>
      <input id="visit_time" class="form-control" name="visit_time" placeholder="Visit Date &amp; Time" required>
    </div>
    <div class="col-12 col-md-4">
      <label for="purpose_text" class="form-label">Purpose <span class="text-danger">*</span></label>
      <input id="purpose_text" class="form-control" name="purpose_text" required>
    </div>
    <div class="col-12"><h3 class="mt-3">Photo Options</h3></div>
    <div class="col-12 col-md-6">
      {% with show_cams=true, prefix='invite' %}
        {% include 'partials/photo_controls.html' %}
      {% endwith %}
      <div class="mt-2 d-none" id="invite_noPhotoReasonBlock">
        <label for="invite_noPhotoReason" class="form-label">Reason for no photo (optional)</label>
        <input id="invite_noPhotoReason" name="no_photo_reason" class="form-control">
      </div>
    </div>
    <div class="col-12 mt-3">
      <button class="btn btn-primary" type="submit">Submit</button>
    </div>
  </form>
  <div id="msg" class="mt-3"></div>
  <div class="mt-4 small text-muted">
    An invite link is generated from your details and sent to your email after submission. Need host info? Visit our <a href="/help">help page</a>.
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/intlTelInput.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.js"></script>
<script type="module" src="/static/js/invite_public.js"></script>

</body>
</html>
